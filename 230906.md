## âœ… Today I Did

### Machine Learning

#### 1. Course Introduction ë…¹í™”ê°•ì˜

- Machine Learning Process
  1. Collect data
  2. Pre-process data (input features & output label)
  3. Select ML model
  4. Train model with training data (finding a set of optimal model parameters -> **optimization**)
- Model : function with model parameters, input -> output
  - classification models
  - regression models
- Category of ML
  - Supervised learning (ì§€ë„í•™ìŠµ) : ì •ë‹µì„ ì•Œë ¤ì¤Œ
    - classification and regression
  - Unsupervised learning (ë¹„ì§€ë„í•™ìŠµ) : ë°ì´í„°ì˜ íŠ¹ì„± íŒŒì•…
    - density estimation and clustering
- Accuracy of ML
  - ì „ì²´ ë°ì´í„° ì¤‘ ì¼ë¶€ë¥¼ training dataë¡œ,  ë‚˜ë¨¸ì§€ë¥¼ test dataë¡œ ì‚¬ìš©í•´ì•¼í•¨
- ìˆ˜ì—… ë‚´ìš©
  - ìµœì í™”
  - ì—¬ëŸ¬ ë¶„ë¥˜ëª¨ë¸
  - ì •ê·œí™”
  - í™•ë¥  ê¸°ë°˜ ML
  - ë¹„ì§€ë„í•™ìŠµ

### CMU Database Systems

#### 4ê°• Database Storage (Part II)

- **Data Representations**
  - Integers (INTEGER, BIGINT, SMALLINT, TINYINT) : IEEE-754 standard
  - Variable Precision Numbers (FLOAT, REAL) : fast but inexact, IEEE-754 standard, fixed length
  - Fixed Point Precision Numbers (NUMERIC, DECIMAL) : exact but slow, variable length
  - Variable Length Data (VARCHAR, VARBINARY, TEXT, BLOB) : stored in overflow page or external file
  - Dates and Times (TIME, DATE, TIMESTAMP) : represented as number of seconds sinch unix epoch
  
  **System Catalogs** : meta-data about the databases
 
- Workloads
  - OLTP (On-line Transaction Processing) : write > read, fast, short
  - OLAP (On-lline Analytical Processing) : read > write, long, complex
  - HTAP (Hybrid, Transactional/Analytical Processing ) : ë‘ ê°€ì§€ ë™ì‹œì— ì‹¤í–‰
- **Storage Models**
  - NSM (N-ary Storage Model, row store)
    - better for OLTP
    - fast inserts, updates, deletes
    - good for queries that need the entire tuple
    - bad for scanning table (fetches data that is not needed for processing the query)
  - DSM (Decomposition Storage Model, column store)
    - better for OLAP
    - efficient in query execution (reads the data that DBMS needs for a query)
    - better compression (values of same attribute are stored continguously)
    - slow for point queries, insert,s updates, deletes
    - two ways to put tuples back together
      - fixed-length offsets : most DBMSs
      - embedded tuple ids

#### 5ê°• Buffer Pools + Memory Management

- Bifurcated Environment
  - OLTP Data Silos (Frontend) : ì—¬ëŸ¬ siloë“¤ì— transactionì´ ë°œìƒ, ì„œë¡œ êµë¥˜í•˜ì§€ ì•ŠìŒ 
  - OLAP Data Warehouse (Backend) : Extract, Transform, Load(ETL)ì„ í†µí•´ Data Warehouseì— í•©ì³ì§

- Database Storage
  - Problem 1. How the DBMS represents database in files on disk (2ê°• ë‚´ìš©)
  - Problem 2. How the DBMS manages its memory and move data back-and-forth from disk (5ê°• ë‚´ìš©)
    - Spatial Control : ì–´ë””ì— í˜ì´ì§€ë¥¼ ì €ì¥í•  ê²ƒì¸ê°€, ëª©í‘œ : ê°™ì´ ì“°ì´ëŠ” í˜ì´ì§€ëŠ” ë¬¼ë¦¬ì ìœ¼ë¡œë„ ê°€ê¹Œì´ì— ì €ì¥í•˜ê³ ì
    - Temporal Control : ì–¸ì œ í˜ì´ì§€ë¥¼ ì½ê³  ì“¸ ê²ƒì¸ê°€, ëª©í‘œ : stall ê°œìˆ˜ ìµœì†Œí™”

- **Buffer Pool Manager**
  - buffer pool : in-memory cache of pages read from disk
  - frame : array entry of fixed-size pages
  - Meta-data for buffer pool
    - page table : hash table (page ids -> frame locations in buffer pool)
    - dirty flag : indicates modified pages
    - pin counter : # threads acccessing that page (to prevent eviction)
  - page table vs. page table
    - page directory : maps page ids -> page locations in db files, has to be durable
    - page table : maps page ids -> buffer pool frames
  - Allocation Policies
    - global policies : decisions for all active txns
    - local policies : consider only a specific txn
  - Optimizations
    - Multiple buffer pools : reduce latch contention
    - pre-fetching : prefetch based on query plan (sequential scans and index scans)
    - scan sharing : ì¿¼ë¦¬ë“¤ì´ ê°™ì€ scanì„ í•˜ê³  ìˆëŠ” ê²½ìš° cursorë¥¼ ì¼ì‹œì ìœ¼ë¡œ ê°™ì´ ì´ìš©í•˜ë„ë¡ í•˜ëŠ” ë°©ë²• 
    - buffer pool bypass : sequential scan operatorëŠ” buffer poolì„ ë¬´ì‹œí•˜ê³  queryì˜ memoryë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²• (page table, buffer pool ì½ê³  ì“°ëŠ” ì˜¤ë²„í—¤ë“œ X)
  - OS Page Cache
    - ëŒ€ë¶€ë¶„ì˜ DBMS : OS page cache ì´ìš©í•˜ì§€ ì•Šê³  direct I/O (O_DIRECT)
    - PostgresëŠ” OS page cache ì´ìš©

- Locks vs. Latches
  - Lock
    - ë‹¤ë¥¸ transactionìœ¼ë¡œë¶€í„° dbì˜ logical contentë¥¼ ë³´í˜¸
    - transaction ë™ì•ˆ ì¡í˜€ìˆìŒ
    - rollback
  - Latch
    - OSì—ì„œì˜ lock
    - ë‹¤ë¥¸ threadë¡œë¶€í„° DBMSì˜ critical sectionì„ ë³´í˜¸
    - mutex (spinlock)

- **Replacement Policies**: which page to evict from the buffer pool
  - Implementation goals : correctness, accuracy, speed, meta-data overhead
  - Least Recently Used (LRU) : timestamp of last access time
  - CLOCK : approximation of LRU, using reference bit and clock hand
  - LRU, CLOCKì˜ ë¬¸ì œì  : sequential flooding
  - í•´ê²°ì±…
    - LRU-K : last k references -> interval ê³„ì‚° í›„ ì—ì¸¡
    - localizations : txn, queryë§ˆë‹¤ eviction -> sequential flooding ë°©ì§€
    - priority hints : DBMSëŠ” ê° í˜ì´ì§€ì˜ ë‚´ìš©ì„ ì• -> priority ë†’ì€ í˜ì´ì§€ ì•Œ ìˆ˜ ìˆìŒ
  - Dirty pages
    - fast : drop not dirty pages
    - slow : write back dirty pages
    - trade-off between fast evictions versus writing dirty pages
    - background writing : DBMS periodically walks through the page table and write dirty pages and unset dirty flag

ê²°ë¡  : OSë³´ë‹¤ DBMSê°€ ë” ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ì˜ í•  ìˆ˜ ìˆë‹¤.

### ë°±ì¤€

#### 7785ë²ˆ íšŒì‚¬ì— ìˆëŠ” ì‚¬ëŒ

ë¹¨ë¦¬ í’€ê³  ì‹¶ì–´ì„œ ê³ ë¥¸ ì‰¬ìš´ ë¬¸ì œì´ë‹¤. std::mapì´ ì •ë ¬ë˜ì–´ìˆëŠ”ì§€ ëª°ë¼ì„œ í•œ ë²ˆì€ sortí•´ì„œ í’€ê³  ê·¸ ë‹¤ìŒì—ëŠ” rbegin() ~ rend()ë¡œ forë¬¸ì„ ëŒë ¸ë‹¤. ë‘˜ ë‹¤ ëœë‹¤. 

## â° ë£¨í‹´ ë§Œë“¤ê¸°

ê¸°ìƒ: 07ì‹œ 50ë¶„

ë“±êµ: 09ì‹œ 00ë¶„

í•˜êµ: 18ì‹œ 00ë¶„

ì·¨ì¹¨: 26ì‹œ 30ë¶„

## âœ” To-do

- [ ] í–‰ì • í›„ì… ê´€ë ¨... êµìˆ˜ë‹˜ê»˜ ë§ì”€ë“œë¦¬ê¸° 
- [x] ë°°ë“œë¯¼í„´ ë²ˆê°œ 7ì‹œ ~ 10ì‹œ
- [x] ì»´íŒŒì¼ëŸ¬ì„¤ê³„ ìˆ˜ì—…
- [x] ê¸°ê³„í•™ìŠµì´ë¡  ìˆ˜ì—…
- [x] ì»¤ê°œ ìˆ˜ì—…
- [x] CMU Databases Systems 4ê°•
- [x] CMU Databases Systems 5ê°•
- [ ] CMU Databases Systems 6ê°•
- [x] ìƒ´í‘¸ ì‚¬ê¸°
- [x] í•˜ì´ë¯¼í„´ ê¸ˆ, ì¼ ìš´ë™ íˆ¬í‘œ 18ì‹œ
- [ ] ë°±ì¤€ í•œ ë¬¸ì œ

## ğŸ’­ ì¼ê¸°

ìƒê°ë³´ë‹¤ ê°•ì˜ ë“£ëŠ” ì†ë„ê°€ ëŠë¦¬ë‹¤. ë‚´ì¼ì€ ì €ë…ì— ë‚¨ì•„ì„œ ë” ë“¤ì–´ì•¼ê² ë‹¤. ì´ë²ˆ ì£¼ë§ê¹Œì§€ 15ê°•ê¹Œì§€ëŠ” ë“£ëŠ” ê±¸ ëª©í‘œë¡œ í•´ë³´ì. ê·¸ë¦¬ê³  ì¼ì° ìì.

## âœˆ Tomorrow
- [ ] í–‰ì • í›„ì… ê´€ë ¨... êµìˆ˜ë‹˜ê»˜ ë§ì”€ë“œë¦¬ê¸° 
- [ ] CMU Databases Systems 6ê°•
- [ ] CMU Databases Systems 7ê°•
- [ ] CMU Databases Systems 8ê°•
